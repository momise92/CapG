(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff814324"],{"0305":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"infos"},[n("h2",{staticClass:"editprofil"},[e._v("Edit my profil")]),n("hr"),n("div",{staticClass:"text-left",staticStyle:{margin:"auto",width:"70%"}},[n("div",{staticClass:"form-group"},[n("span",[e._v("Name: "+e._s(e.user.name))]),n("br"),e.isEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text"},domProps:{value:e.user.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}):e._e()]),n("div",{staticClass:"form-group"},[n("span",[e._v("Surname: "+e._s(e.user.lastName))]),n("br"),e.isEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],attrs:{type:"text"},domProps:{value:e.user.lastName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}}):e._e()]),n("div",{staticClass:"form-group"},[n("span",[e._v("Entity: "+e._s(e.user.entityCap.name))]),n("br"),e.isEditing?n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.entityCap.name,expression:"user.entityCap.name"}],staticClass:"form-control",attrs:{id:"entityCap",name:"entityCap"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.entityCap,"name",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Please select an option")]),e._l(e.entityCap,function(t){return n("option",{key:t.id},[e._v(e._s(t.name))])})],2):e._e()]),n("div",{staticClass:"form-group"},[n("span",[e._v("Email: "+e._s(e.user.email))]),n("br"),e.isEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email"},domProps:{value:e.user.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}):e._e()]),n("div",{staticClass:"form-group"},[n("span",[e._v("Phone number: "+e._s(e.user.phoneNumber))]),n("br"),e.isEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phoneNumber,expression:"user.phoneNumber"}],attrs:{type:"tel"},domProps:{value:e.user.phoneNumber},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},input:function(t){t.target.composing||e.$set(e.user,"phoneNumber",t.target.value)}}}):e._e()]),n("div",{staticClass:"form-group"},[n("span",[e._v("City: "+e._s(e.user.city.name))]),n("br"),e.isEditing?n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.city.name,expression:"user.city.name"}],staticClass:"form-control",attrs:{id:"entityCap",name:"city"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("update")},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.city,"name",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Please select an option")]),e._l(e.cities,function(t){return n("option",{key:t.id},[e._v(e._s(t.name))])})],2):e._e()]),n("button",{staticClass:"btn btn-primary btn-lg rounded",on:{click:function(t){return e.edit()}}},[e._v("Submit")])])])},a=[],s=n("bc3a"),r=n.n(s),o={name:"editInfo",data:function(){return{entityCap:[],user:[],cities:[]}},methods:{onLoad:function(){var e=this;console.log("ici"),r.a.get("/api/users/current").then(function(t){e.user=t.data,console.log("gg",e.user)}).catch(function(e){console.log("null",e)}),r.a.get("/api/entities").then(function(t){e.entityCap=t.data,console.log("Entities",e.entityCap)}).catch(function(t){e.entityCap=t.data}),r.a.get("/api/cities").then(function(t){e.cities=t.data,console.log("gg",e.cities)}).catch(function(t){e.cities=t.data})},edit:function(){var e=this;console.log("en attente..."),r.a.put("/api/users/",this.user).then(function(e){console.log("gg2",e)}).catch(function(t){e.user=t.data,console.log("nul",t)})}},mounted:function(){this.onLoad(),this.isEditing=!0}},u=o,l=(n("5528"),n("2877")),c=Object(l["a"])(u,i,a,!1,null,null,null);t["default"]=c.exports},5528:function(e,t,n){"use strict";var i=n("e899"),a=n.n(i);a.a},e899:function(e,t,n){}}]);
//# sourceMappingURL=chunk-ff814324.91ce436d.js.map